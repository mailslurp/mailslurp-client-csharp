/*
 * MailSlurp API
 *
 * MailSlurp is an API for sending and receiving emails and SMS from dynamically allocated email addresses and phone numbers. It's designed for developers and QA teams to test applications, process inbound emails, send templated notifications, attachments, and more.  ## Resources  - [Homepage](https://www.mailslurp.com) - Get an [API KEY](https://app.mailslurp.com/sign-up/) - Generated [SDK Clients](https://docs.mailslurp.com/) - [Examples](https://github.com/mailslurp/examples) repository
 *
 * The version of the OpenAPI document: 6.5.2
 * Contact: contact@mailslurp.dev
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.Net.Http;
using Microsoft.Extensions.DependencyInjection;
using mailslurp.Api;
using mailslurp.Model;

namespace mailslurp.Client
{
    /// <summary>
    /// Provides hosting configuration for mailslurp
    /// </summary>
    public class HostConfiguration
    {
        private readonly IServiceCollection _services;
        private readonly JsonSerializerOptions _jsonOptions = new JsonSerializerOptions();

        internal bool HttpClientsAdded { get; private set; }

        /// <summary>
        /// Instantiates the class 
        /// </summary>
        /// <param name="services"></param>
        public HostConfiguration(IServiceCollection services)
        {
            _services = services;
            _jsonOptions.Converters.Add(new JsonStringEnumConverter());
            _jsonOptions.Converters.Add(new DateTimeJsonConverter());
            _jsonOptions.Converters.Add(new DateTimeNullableJsonConverter());
            _jsonOptions.Converters.Add(new AbstractWebhookPayloadJsonConverter());
            _jsonOptions.Converters.Add(new AccountBounceBlockDtoJsonConverter());
            _jsonOptions.Converters.Add(new AliasDtoJsonConverter());
            _jsonOptions.Converters.Add(new AliasProjectionJsonConverter());
            _jsonOptions.Converters.Add(new AliasThreadProjectionJsonConverter());
            _jsonOptions.Converters.Add(new AttachmentEntityDtoJsonConverter());
            _jsonOptions.Converters.Add(new AttachmentMetaDataJsonConverter());
            _jsonOptions.Converters.Add(new AttachmentProjectionJsonConverter());
            _jsonOptions.Converters.Add(new BasicAuthOptionsJsonConverter());
            _jsonOptions.Converters.Add(new BounceProjectionJsonConverter());
            _jsonOptions.Converters.Add(new BounceRecipientProjectionJsonConverter());
            _jsonOptions.Converters.Add(new BouncedEmailDtoJsonConverter());
            _jsonOptions.Converters.Add(new BouncedRecipientDtoJsonConverter());
            _jsonOptions.Converters.Add(new BulkSendEmailOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CanSendEmailResultsJsonConverter());
            _jsonOptions.Converters.Add(new CheckEmailBodyFeatureSupportResultsJsonConverter());
            _jsonOptions.Converters.Add(new CheckEmailBodyResultsJsonConverter());
            _jsonOptions.Converters.Add(new CheckEmailClientSupportOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CheckEmailClientSupportResultsJsonConverter());
            _jsonOptions.Converters.Add(new CheckEmailFeaturesClientSupportOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CheckEmailFeaturesClientSupportResultsJsonConverter());
            _jsonOptions.Converters.Add(new ComplaintJsonConverter());
            _jsonOptions.Converters.Add(new ConditionOptionJsonConverter());
            _jsonOptions.Converters.Add(new ConnectorDtoJsonConverter());
            _jsonOptions.Converters.Add(new ConnectorEventDtoJsonConverter());
            _jsonOptions.Converters.Add(new ConnectorEventProjectionJsonConverter());
            _jsonOptions.Converters.Add(new ConnectorImapConnectionDtoJsonConverter());
            _jsonOptions.Converters.Add(new ConnectorImapConnectionTestResultJsonConverter());
            _jsonOptions.Converters.Add(new ConnectorProjectionJsonConverter());
            _jsonOptions.Converters.Add(new ConnectorProviderSettingsDtoJsonConverter());
            _jsonOptions.Converters.Add(new ConnectorSmtpConnectionDtoJsonConverter());
            _jsonOptions.Converters.Add(new ConnectorSmtpConnectionTestResultJsonConverter());
            _jsonOptions.Converters.Add(new ConnectorSyncRequestResultJsonConverter());
            _jsonOptions.Converters.Add(new ConnectorSyncResultJsonConverter());
            _jsonOptions.Converters.Add(new ConnectorSyncSettingsDtoJsonConverter());
            _jsonOptions.Converters.Add(new ConsentStatusDtoJsonConverter());
            _jsonOptions.Converters.Add(new ContactDtoJsonConverter());
            _jsonOptions.Converters.Add(new ContactProjectionJsonConverter());
            _jsonOptions.Converters.Add(new ContentMatchOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CountDtoJsonConverter());
            _jsonOptions.Converters.Add(new CreateAliasOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateConnectorImapConnectionOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateConnectorOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateConnectorSmtpConnectionOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateConnectorSyncSettingsOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateConnectorWithOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateContactOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateDomainOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateEmergencyAddressOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateGroupOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateInboxDtoJsonConverter());
            _jsonOptions.Converters.Add(new CreateInboxForwarderOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateInboxReplierOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateInboxRulesetOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateOAuthConnectionResultJsonConverter());
            _jsonOptions.Converters.Add(new CreateOAuthExchangeResultJsonConverter());
            _jsonOptions.Converters.Add(new CreatePhoneNumberOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreatePortalOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreatePortalUserOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateTemplateOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateTrackingPixelOptionsJsonConverter());
            _jsonOptions.Converters.Add(new CreateWebhookOptionsJsonConverter());
            _jsonOptions.Converters.Add(new DNSLookupOptionsJsonConverter());
            _jsonOptions.Converters.Add(new DNSLookupResultJsonConverter());
            _jsonOptions.Converters.Add(new DNSLookupResultsJsonConverter());
            _jsonOptions.Converters.Add(new DNSLookupsOptionsJsonConverter());
            _jsonOptions.Converters.Add(new DeliveryStatusDtoJsonConverter());
            _jsonOptions.Converters.Add(new DescribeDomainOptionsJsonConverter());
            _jsonOptions.Converters.Add(new DescribeMailServerDomainResultJsonConverter());
            _jsonOptions.Converters.Add(new DomainDtoJsonConverter());
            _jsonOptions.Converters.Add(new DomainGroupJsonConverter());
            _jsonOptions.Converters.Add(new DomainGroupsDtoJsonConverter());
            _jsonOptions.Converters.Add(new DomainInformationJsonConverter());
            _jsonOptions.Converters.Add(new DomainIssuesDtoJsonConverter());
            _jsonOptions.Converters.Add(new DomainNameRecordJsonConverter());
            _jsonOptions.Converters.Add(new DomainPreviewJsonConverter());
            _jsonOptions.Converters.Add(new DownloadAttachmentDtoJsonConverter());
            _jsonOptions.Converters.Add(new EmailJsonConverter());
            _jsonOptions.Converters.Add(new EmailAnalysisJsonConverter());
            _jsonOptions.Converters.Add(new EmailAvailableResultJsonConverter());
            _jsonOptions.Converters.Add(new EmailContentMatchResultJsonConverter());
            _jsonOptions.Converters.Add(new EmailContentPartResultJsonConverter());
            _jsonOptions.Converters.Add(new EmailFeatureCategoryNameJsonConverter());
            _jsonOptions.Converters.Add(new EmailFeatureFamilyNameJsonConverter());
            _jsonOptions.Converters.Add(new EmailFeatureFamilyStatisticsJsonConverter());
            _jsonOptions.Converters.Add(new EmailFeatureNamesJsonConverter());
            _jsonOptions.Converters.Add(new EmailFeatureOverviewJsonConverter());
            _jsonOptions.Converters.Add(new EmailFeaturePlatformNameJsonConverter());
            _jsonOptions.Converters.Add(new EmailFeaturePlatformStatisticsJsonConverter());
            _jsonOptions.Converters.Add(new EmailFeatureSupportFlagsJsonConverter());
            _jsonOptions.Converters.Add(new EmailFeatureSupportResultJsonConverter());
            _jsonOptions.Converters.Add(new EmailFeatureSupportStatusPercentageJsonConverter());
            _jsonOptions.Converters.Add(new EmailFeatureVersionStatisticsJsonConverter());
            _jsonOptions.Converters.Add(new EmailHtmlDtoJsonConverter());
            _jsonOptions.Converters.Add(new EmailLinksResultJsonConverter());
            _jsonOptions.Converters.Add(new EmailPreviewJsonConverter());
            _jsonOptions.Converters.Add(new EmailPreviewUrlsJsonConverter());
            _jsonOptions.Converters.Add(new EmailProjectionJsonConverter());
            _jsonOptions.Converters.Add(new EmailRecipientsJsonConverter());
            _jsonOptions.Converters.Add(new EmailRecipientsProjectionJsonConverter());
            _jsonOptions.Converters.Add(new EmailScreenshotResultJsonConverter());
            _jsonOptions.Converters.Add(new EmailTextLinesResultJsonConverter());
            _jsonOptions.Converters.Add(new EmailThreadDtoJsonConverter());
            _jsonOptions.Converters.Add(new EmailThreadItemJsonConverter());
            _jsonOptions.Converters.Add(new EmailThreadItemsDtoJsonConverter());
            _jsonOptions.Converters.Add(new EmailThreadProjectionJsonConverter());
            _jsonOptions.Converters.Add(new EmailValidationRequestDtoJsonConverter());
            _jsonOptions.Converters.Add(new EmailVerificationResultJsonConverter());
            _jsonOptions.Converters.Add(new EmergencyAddressJsonConverter());
            _jsonOptions.Converters.Add(new EmergencyAddressDtoJsonConverter());
            _jsonOptions.Converters.Add(new EmptyResponseDtoJsonConverter());
            _jsonOptions.Converters.Add(new EntityAutomationItemProjectionJsonConverter());
            _jsonOptions.Converters.Add(new EntityEventItemProjectionJsonConverter());
            _jsonOptions.Converters.Add(new EntityFavouriteItemProjectionJsonConverter());
            _jsonOptions.Converters.Add(new ExpirationDefaultsJsonConverter());
            _jsonOptions.Converters.Add(new ExpiredInboxDtoJsonConverter());
            _jsonOptions.Converters.Add(new ExpiredInboxRecordProjectionJsonConverter());
            _jsonOptions.Converters.Add(new ExportLinkJsonConverter());
            _jsonOptions.Converters.Add(new ExportOptionsJsonConverter());
            _jsonOptions.Converters.Add(new FakeEmailDtoJsonConverter());
            _jsonOptions.Converters.Add(new FakeEmailPreviewJsonConverter());
            _jsonOptions.Converters.Add(new FakeEmailResultJsonConverter());
            _jsonOptions.Converters.Add(new FilterBouncedRecipientsOptionsJsonConverter());
            _jsonOptions.Converters.Add(new FilterBouncedRecipientsResultJsonConverter());
            _jsonOptions.Converters.Add(new FlushExpiredInboxesResultJsonConverter());
            _jsonOptions.Converters.Add(new ForwardEmailOptionsJsonConverter());
            _jsonOptions.Converters.Add(new GenerateBimiRecordOptionsJsonConverter());
            _jsonOptions.Converters.Add(new GenerateBimiRecordResultsJsonConverter());
            _jsonOptions.Converters.Add(new GenerateDmarcRecordOptionsJsonConverter());
            _jsonOptions.Converters.Add(new GenerateDmarcRecordResultsJsonConverter());
            _jsonOptions.Converters.Add(new GenerateMtaStsRecordOptionsJsonConverter());
            _jsonOptions.Converters.Add(new GenerateMtaStsRecordResultsJsonConverter());
            _jsonOptions.Converters.Add(new GenerateStructuredContentEmailOptionsJsonConverter());
            _jsonOptions.Converters.Add(new GenerateTlsReportingRecordOptionsJsonConverter());
            _jsonOptions.Converters.Add(new GenerateTlsReportingRecordResultsJsonConverter());
            _jsonOptions.Converters.Add(new GetEmailScreenshotOptionsJsonConverter());
            _jsonOptions.Converters.Add(new GravatarUrlJsonConverter());
            _jsonOptions.Converters.Add(new GroupContactsDtoJsonConverter());
            _jsonOptions.Converters.Add(new GroupDtoJsonConverter());
            _jsonOptions.Converters.Add(new GroupProjectionJsonConverter());
            _jsonOptions.Converters.Add(new GuestPortalDtoJsonConverter());
            _jsonOptions.Converters.Add(new GuestPortalUserCreateDtoJsonConverter());
            _jsonOptions.Converters.Add(new GuestPortalUserDtoJsonConverter());
            _jsonOptions.Converters.Add(new GuestPortalUserProjectionJsonConverter());
            _jsonOptions.Converters.Add(new HTMLValidationResultJsonConverter());
            _jsonOptions.Converters.Add(new IPAddressResultJsonConverter());
            _jsonOptions.Converters.Add(new ImageIssueJsonConverter());
            _jsonOptions.Converters.Add(new ImapAccessDetailsJsonConverter());
            _jsonOptions.Converters.Add(new ImapEmailProjectionJsonConverter());
            _jsonOptions.Converters.Add(new ImapFlagOperationOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ImapMailboxStatusJsonConverter());
            _jsonOptions.Converters.Add(new ImapServerFetchItemJsonConverter());
            _jsonOptions.Converters.Add(new ImapServerFetchResultJsonConverter());
            _jsonOptions.Converters.Add(new ImapServerGetResultJsonConverter());
            _jsonOptions.Converters.Add(new ImapServerListOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ImapServerListResultJsonConverter());
            _jsonOptions.Converters.Add(new ImapServerMailboxResultJsonConverter());
            _jsonOptions.Converters.Add(new ImapServerSearchOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ImapServerSearchResultJsonConverter());
            _jsonOptions.Converters.Add(new ImapServerStatusOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ImapServerStatusResultJsonConverter());
            _jsonOptions.Converters.Add(new ImapSmtpAccessDetailsJsonConverter());
            _jsonOptions.Converters.Add(new ImapSmtpAccessServersJsonConverter());
            _jsonOptions.Converters.Add(new ImapUpdateFlagsOptionsJsonConverter());
            _jsonOptions.Converters.Add(new InboxByEmailAddressResultJsonConverter());
            _jsonOptions.Converters.Add(new InboxByNameResultJsonConverter());
            _jsonOptions.Converters.Add(new InboxDtoJsonConverter());
            _jsonOptions.Converters.Add(new InboxExistsDtoJsonConverter());
            _jsonOptions.Converters.Add(new InboxForwarderDtoJsonConverter());
            _jsonOptions.Converters.Add(new InboxForwarderEventDtoJsonConverter());
            _jsonOptions.Converters.Add(new InboxForwarderEventProjectionJsonConverter());
            _jsonOptions.Converters.Add(new InboxForwarderTestOptionsJsonConverter());
            _jsonOptions.Converters.Add(new InboxForwarderTestResultJsonConverter());
            _jsonOptions.Converters.Add(new InboxIdItemJsonConverter());
            _jsonOptions.Converters.Add(new InboxIdsResultJsonConverter());
            _jsonOptions.Converters.Add(new InboxPreviewJsonConverter());
            _jsonOptions.Converters.Add(new InboxReplierDtoJsonConverter());
            _jsonOptions.Converters.Add(new InboxReplierEventProjectionJsonConverter());
            _jsonOptions.Converters.Add(new InboxRulesetDtoJsonConverter());
            _jsonOptions.Converters.Add(new InboxRulesetTestOptionsJsonConverter());
            _jsonOptions.Converters.Add(new InboxRulesetTestResultJsonConverter());
            _jsonOptions.Converters.Add(new JSONSchemaDtoJsonConverter());
            _jsonOptions.Converters.Add(new LinkIssueJsonConverter());
            _jsonOptions.Converters.Add(new ListUnsubscribeRecipientProjectionJsonConverter());
            _jsonOptions.Converters.Add(new LookupBimiDomainOptionsJsonConverter());
            _jsonOptions.Converters.Add(new LookupBimiDomainResultsJsonConverter());
            _jsonOptions.Converters.Add(new LookupDmarcDomainOptionsJsonConverter());
            _jsonOptions.Converters.Add(new LookupDmarcDomainResultsJsonConverter());
            _jsonOptions.Converters.Add(new LookupMtaStsDomainOptionsJsonConverter());
            _jsonOptions.Converters.Add(new LookupMtaStsDomainResultsJsonConverter());
            _jsonOptions.Converters.Add(new LookupTlsReportingDomainOptionsJsonConverter());
            _jsonOptions.Converters.Add(new LookupTlsReportingDomainResultsJsonConverter());
            _jsonOptions.Converters.Add(new MatchOptionJsonConverter());
            _jsonOptions.Converters.Add(new MatchOptionsJsonConverter());
            _jsonOptions.Converters.Add(new MissedEmailDtoJsonConverter());
            _jsonOptions.Converters.Add(new MissedEmailProjectionJsonConverter());
            _jsonOptions.Converters.Add(new NameServerRecordJsonConverter());
            _jsonOptions.Converters.Add(new NewFakeEmailAddressResultJsonConverter());
            _jsonOptions.Converters.Add(new OptInConsentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new OptInConsentSendResultJsonConverter());
            _jsonOptions.Converters.Add(new OptInIdentityProjectionJsonConverter());
            _jsonOptions.Converters.Add(new OptInSendingConsentDtoJsonConverter());
            _jsonOptions.Converters.Add(new OptionalConnectorDtoJsonConverter());
            _jsonOptions.Converters.Add(new OptionalConnectorImapConnectionDtoJsonConverter());
            _jsonOptions.Converters.Add(new OptionalConnectorSmtpConnectionDtoJsonConverter());
            _jsonOptions.Converters.Add(new OptionalConnectorSyncSettingsDtoJsonConverter());
            _jsonOptions.Converters.Add(new OrganizationInboxProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageAliasJsonConverter());
            _jsonOptions.Converters.Add(new PageAliasThreadProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageAttachmentEntityJsonConverter());
            _jsonOptions.Converters.Add(new PageBouncedEmailJsonConverter());
            _jsonOptions.Converters.Add(new PageBouncedRecipientsJsonConverter());
            _jsonOptions.Converters.Add(new PageComplaintJsonConverter());
            _jsonOptions.Converters.Add(new PageConnectorJsonConverter());
            _jsonOptions.Converters.Add(new PageConnectorEventsJsonConverter());
            _jsonOptions.Converters.Add(new PageContactProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageDeliveryStatusJsonConverter());
            _jsonOptions.Converters.Add(new PageEmailPreviewJsonConverter());
            _jsonOptions.Converters.Add(new PageEmailProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageEmailThreadProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageEmailValidationRequestJsonConverter());
            _jsonOptions.Converters.Add(new PageEntityAutomationItemsJsonConverter());
            _jsonOptions.Converters.Add(new PageEntityEventItemsJsonConverter());
            _jsonOptions.Converters.Add(new PageEntityFavouriteItemsJsonConverter());
            _jsonOptions.Converters.Add(new PageExpiredInboxRecordProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageGroupProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageGuestPortalUsersJsonConverter());
            _jsonOptions.Converters.Add(new PageInboxForwarderDtoJsonConverter());
            _jsonOptions.Converters.Add(new PageInboxForwarderEventsJsonConverter());
            _jsonOptions.Converters.Add(new PageInboxProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageInboxReplierDtoJsonConverter());
            _jsonOptions.Converters.Add(new PageInboxReplierEventsJsonConverter());
            _jsonOptions.Converters.Add(new PageInboxRulesetDtoJsonConverter());
            _jsonOptions.Converters.Add(new PageInboxTagsJsonConverter());
            _jsonOptions.Converters.Add(new PageListUnsubscribeRecipientsJsonConverter());
            _jsonOptions.Converters.Add(new PageMissedEmailProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageOptInIdentityProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageOrganizationInboxProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PagePhoneMessageThreadItemProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PagePhoneMessageThreadProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PagePhoneNumberProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PagePlusAddressProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageReputationItemsJsonConverter());
            _jsonOptions.Converters.Add(new PageScheduledJobsJsonConverter());
            _jsonOptions.Converters.Add(new PageSentEmailProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageSentEmailWithQueueProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageSentSmsProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageSmsProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageTemplateProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageTrackingPixelProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageUnknownMissedEmailProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageWebhookEndpointProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageWebhookProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PageWebhookResultJsonConverter());
            _jsonOptions.Converters.Add(new PageableObjectJsonConverter());
            _jsonOptions.Converters.Add(new PhoneMessageThreadItemProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PhoneMessageThreadProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PhoneNumberDtoJsonConverter());
            _jsonOptions.Converters.Add(new PhoneNumberProjectionJsonConverter());
            _jsonOptions.Converters.Add(new PhoneNumberValidationDtoJsonConverter());
            _jsonOptions.Converters.Add(new PhonePlanAvailabilityJsonConverter());
            _jsonOptions.Converters.Add(new PhonePlanAvailabilityItemJsonConverter());
            _jsonOptions.Converters.Add(new PhonePlanDtoJsonConverter());
            _jsonOptions.Converters.Add(new PlusAddressDtoJsonConverter());
            _jsonOptions.Converters.Add(new PlusAddressProjectionJsonConverter());
            _jsonOptions.Converters.Add(new ProviderSettingsJsonConverter());
            _jsonOptions.Converters.Add(new RawEmailJsonJsonConverter());
            _jsonOptions.Converters.Add(new RecipientJsonConverter());
            _jsonOptions.Converters.Add(new RecipientProjectionJsonConverter());
            _jsonOptions.Converters.Add(new ReplyForSmsJsonConverter());
            _jsonOptions.Converters.Add(new ReplyToAliasEmailOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ReplyToEmailOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ReputationItemProjectionJsonConverter());
            _jsonOptions.Converters.Add(new ScheduledJobJsonConverter());
            _jsonOptions.Converters.Add(new ScheduledJobDtoJsonConverter());
            _jsonOptions.Converters.Add(new SearchEmailsOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SearchInboxesOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SendEmailBodyPartJsonConverter());
            _jsonOptions.Converters.Add(new SendEmailOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SendOptInConsentEmailOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SendSMTPEnvelopeOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SendWithQueueResultJsonConverter());
            _jsonOptions.Converters.Add(new SenderJsonConverter());
            _jsonOptions.Converters.Add(new SenderProjectionJsonConverter());
            _jsonOptions.Converters.Add(new SentEmailDtoJsonConverter());
            _jsonOptions.Converters.Add(new SentEmailProjectionJsonConverter());
            _jsonOptions.Converters.Add(new SentSmsDtoJsonConverter());
            _jsonOptions.Converters.Add(new SentSmsProjectionJsonConverter());
            _jsonOptions.Converters.Add(new ServerEndpointsJsonConverter());
            _jsonOptions.Converters.Add(new SetInboxFavouritedOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SetPhoneFavouritedOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SimpleSendEmailOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SmsDtoJsonConverter());
            _jsonOptions.Converters.Add(new SmsMatchOptionJsonConverter());
            _jsonOptions.Converters.Add(new SmsPreviewJsonConverter());
            _jsonOptions.Converters.Add(new SmsProjectionJsonConverter());
            _jsonOptions.Converters.Add(new SmsReplyOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SmsSendOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SmtpAccessDetailsJsonConverter());
            _jsonOptions.Converters.Add(new SortObjectJsonConverter());
            _jsonOptions.Converters.Add(new SpellingIssueJsonConverter());
            _jsonOptions.Converters.Add(new StructuredContentResultJsonConverter());
            _jsonOptions.Converters.Add(new StructuredOutputSchemaJsonConverter());
            _jsonOptions.Converters.Add(new TemplateDtoJsonConverter());
            _jsonOptions.Converters.Add(new TemplatePreviewJsonConverter());
            _jsonOptions.Converters.Add(new TemplateProjectionJsonConverter());
            _jsonOptions.Converters.Add(new TemplateVariableJsonConverter());
            _jsonOptions.Converters.Add(new TestInboxRulesetReceivingOptionsJsonConverter());
            _jsonOptions.Converters.Add(new TestInboxRulesetReceivingResultJsonConverter());
            _jsonOptions.Converters.Add(new TestInboxRulesetSendingOptionsJsonConverter());
            _jsonOptions.Converters.Add(new TestInboxRulesetSendingResultJsonConverter());
            _jsonOptions.Converters.Add(new TestNewInboxForwarderOptionsJsonConverter());
            _jsonOptions.Converters.Add(new TestNewInboxRulesetOptionsJsonConverter());
            _jsonOptions.Converters.Add(new TestPhoneNumberOptionsJsonConverter());
            _jsonOptions.Converters.Add(new TrackingPixelDtoJsonConverter());
            _jsonOptions.Converters.Add(new TrackingPixelProjectionJsonConverter());
            _jsonOptions.Converters.Add(new UnknownMissedEmailProjectionJsonConverter());
            _jsonOptions.Converters.Add(new UnreadCountJsonConverter());
            _jsonOptions.Converters.Add(new UnseenErrorCountDtoJsonConverter());
            _jsonOptions.Converters.Add(new UpdateAliasOptionsJsonConverter());
            _jsonOptions.Converters.Add(new UpdateDomainOptionsJsonConverter());
            _jsonOptions.Converters.Add(new UpdateGroupContactsJsonConverter());
            _jsonOptions.Converters.Add(new UpdateImapAccessOptionsJsonConverter());
            _jsonOptions.Converters.Add(new UpdateInboxOptionsJsonConverter());
            _jsonOptions.Converters.Add(new UpdateInboxReplierOptionsJsonConverter());
            _jsonOptions.Converters.Add(new UpdatePhoneNumberOptionsJsonConverter());
            _jsonOptions.Converters.Add(new UpdateSmtpAccessOptionsJsonConverter());
            _jsonOptions.Converters.Add(new UploadAttachmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new UploadMultipartFormRequestJsonConverter());
            _jsonOptions.Converters.Add(new UserInfoDtoJsonConverter());
            _jsonOptions.Converters.Add(new ValidateEmailAddressListOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ValidateEmailAddressListResultJsonConverter());
            _jsonOptions.Converters.Add(new ValidatePhoneNumberOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ValidationDtoJsonConverter());
            _jsonOptions.Converters.Add(new ValidationMessageJsonConverter());
            _jsonOptions.Converters.Add(new VerifyEmailAddressOptionsJsonConverter());
            _jsonOptions.Converters.Add(new VerifyWebhookSignatureOptionsJsonConverter());
            _jsonOptions.Converters.Add(new VerifyWebhookSignatureResultsJsonConverter());
            _jsonOptions.Converters.Add(new WaitForConditionsJsonConverter());
            _jsonOptions.Converters.Add(new WaitForSingleSmsOptionsJsonConverter());
            _jsonOptions.Converters.Add(new WaitForSmsConditionsJsonConverter());
            _jsonOptions.Converters.Add(new WebhookBouncePayloadJsonConverter());
            _jsonOptions.Converters.Add(new WebhookBounceRecipientPayloadJsonConverter());
            _jsonOptions.Converters.Add(new WebhookDeliveryStatusPayloadJsonConverter());
            _jsonOptions.Converters.Add(new WebhookDtoJsonConverter());
            _jsonOptions.Converters.Add(new WebhookEmailOpenedPayloadJsonConverter());
            _jsonOptions.Converters.Add(new WebhookEmailReadPayloadJsonConverter());
            _jsonOptions.Converters.Add(new WebhookEndpointProjectionJsonConverter());
            _jsonOptions.Converters.Add(new WebhookHeaderNameValueJsonConverter());
            _jsonOptions.Converters.Add(new WebhookHeadersJsonConverter());
            _jsonOptions.Converters.Add(new WebhookNewAttachmentPayloadJsonConverter());
            _jsonOptions.Converters.Add(new WebhookNewContactPayloadJsonConverter());
            _jsonOptions.Converters.Add(new WebhookNewEmailPayloadJsonConverter());
            _jsonOptions.Converters.Add(new WebhookNewSmsPayloadJsonConverter());
            _jsonOptions.Converters.Add(new WebhookProjectionJsonConverter());
            _jsonOptions.Converters.Add(new WebhookRedriveAllResultJsonConverter());
            _jsonOptions.Converters.Add(new WebhookRedriveResultJsonConverter());
            _jsonOptions.Converters.Add(new WebhookResultDtoJsonConverter());
            _jsonOptions.Converters.Add(new WebhookTestRequestJsonConverter());
            _jsonOptions.Converters.Add(new WebhookTestResponseJsonConverter());
            _jsonOptions.Converters.Add(new WebhookTestResultJsonConverter());
            JsonSerializerOptionsProvider jsonSerializerOptionsProvider = new JsonSerializerOptionsProvider(_jsonOptions);
            _services.AddSingleton(jsonSerializerOptionsProvider);
            _services.AddSingleton<IApiFactory, ApiFactory>();
            _services.AddSingleton<AIControllerApiEvents>();
            _services.AddTransient<IAIControllerApi, AIControllerApi>();
            _services.AddSingleton<AliasControllerApiEvents>();
            _services.AddTransient<IAliasControllerApi, AliasControllerApi>();
            _services.AddSingleton<AttachmentControllerApiEvents>();
            _services.AddTransient<IAttachmentControllerApi, AttachmentControllerApi>();
            _services.AddSingleton<BounceControllerApiEvents>();
            _services.AddTransient<IBounceControllerApi, BounceControllerApi>();
            _services.AddSingleton<BulkActionsControllerApiEvents>();
            _services.AddTransient<IBulkActionsControllerApi, BulkActionsControllerApi>();
            _services.AddSingleton<CommonActionsControllerApiEvents>();
            _services.AddTransient<ICommonActionsControllerApi, CommonActionsControllerApi>();
            _services.AddSingleton<ConnectorControllerApiEvents>();
            _services.AddTransient<IConnectorControllerApi, ConnectorControllerApi>();
            _services.AddSingleton<ConsentControllerApiEvents>();
            _services.AddTransient<IConsentControllerApi, ConsentControllerApi>();
            _services.AddSingleton<ContactControllerApiEvents>();
            _services.AddTransient<IContactControllerApi, ContactControllerApi>();
            _services.AddSingleton<DomainControllerApiEvents>();
            _services.AddTransient<IDomainControllerApi, DomainControllerApi>();
            _services.AddSingleton<EmailControllerApiEvents>();
            _services.AddTransient<IEmailControllerApi, EmailControllerApi>();
            _services.AddSingleton<EmailVerificationControllerApiEvents>();
            _services.AddTransient<IEmailVerificationControllerApi, EmailVerificationControllerApi>();
            _services.AddSingleton<ExpiredControllerApiEvents>();
            _services.AddTransient<IExpiredControllerApi, ExpiredControllerApi>();
            _services.AddSingleton<ExportControllerApiEvents>();
            _services.AddTransient<IExportControllerApi, ExportControllerApi>();
            _services.AddSingleton<FormControllerApiEvents>();
            _services.AddTransient<IFormControllerApi, FormControllerApi>();
            _services.AddSingleton<GroupControllerApiEvents>();
            _services.AddTransient<IGroupControllerApi, GroupControllerApi>();
            _services.AddSingleton<GuestPortalControllerApiEvents>();
            _services.AddTransient<IGuestPortalControllerApi, GuestPortalControllerApi>();
            _services.AddSingleton<ImapControllerApiEvents>();
            _services.AddTransient<IImapControllerApi, ImapControllerApi>();
            _services.AddSingleton<InboxControllerApiEvents>();
            _services.AddTransient<IInboxControllerApi, InboxControllerApi>();
            _services.AddSingleton<InboxForwarderControllerApiEvents>();
            _services.AddTransient<IInboxForwarderControllerApi, InboxForwarderControllerApi>();
            _services.AddSingleton<InboxReplierControllerApiEvents>();
            _services.AddTransient<IInboxReplierControllerApi, InboxReplierControllerApi>();
            _services.AddSingleton<InboxRulesetControllerApiEvents>();
            _services.AddTransient<IInboxRulesetControllerApi, InboxRulesetControllerApi>();
            _services.AddSingleton<MailServerControllerApiEvents>();
            _services.AddTransient<IMailServerControllerApi, MailServerControllerApi>();
            _services.AddSingleton<MissedEmailControllerApiEvents>();
            _services.AddTransient<IMissedEmailControllerApi, MissedEmailControllerApi>();
            _services.AddSingleton<OAuthConnectionApiEvents>();
            _services.AddTransient<IOAuthConnectionApi, OAuthConnectionApi>();
            _services.AddSingleton<PhoneControllerApiEvents>();
            _services.AddTransient<IPhoneControllerApi, PhoneControllerApi>();
            _services.AddSingleton<SentEmailsControllerApiEvents>();
            _services.AddTransient<ISentEmailsControllerApi, SentEmailsControllerApi>();
            _services.AddSingleton<SmsControllerApiEvents>();
            _services.AddTransient<ISmsControllerApi, SmsControllerApi>();
            _services.AddSingleton<TemplateControllerApiEvents>();
            _services.AddTransient<ITemplateControllerApi, TemplateControllerApi>();
            _services.AddSingleton<ToolsControllerApiEvents>();
            _services.AddTransient<IToolsControllerApi, ToolsControllerApi>();
            _services.AddSingleton<TrackingControllerApiEvents>();
            _services.AddTransient<ITrackingControllerApi, TrackingControllerApi>();
            _services.AddSingleton<UserControllerApiEvents>();
            _services.AddTransient<IUserControllerApi, UserControllerApi>();
            _services.AddSingleton<WaitForControllerApiEvents>();
            _services.AddTransient<IWaitForControllerApi, WaitForControllerApi>();
            _services.AddSingleton<WebhookControllerApiEvents>();
            _services.AddTransient<IWebhookControllerApi, WebhookControllerApi>();
        }

        /// <summary>
        /// Configures the HttpClients.
        /// </summary>
        /// <param name="client"></param>
        /// <param name="builder"></param>
        /// <returns></returns>
        public HostConfiguration AddApiHttpClients
        (
            Action<HttpClient> client = null, Action<IHttpClientBuilder> builder = null)
        {
            if (client == null)
                client = c => c.BaseAddress = new Uri(ClientUtils.BASE_ADDRESS);

            List<IHttpClientBuilder> builders = new List<IHttpClientBuilder>();

            builders.Add(_services.AddHttpClient<IAIControllerApi, AIControllerApi>(client));
            builders.Add(_services.AddHttpClient<IAliasControllerApi, AliasControllerApi>(client));
            builders.Add(_services.AddHttpClient<IAttachmentControllerApi, AttachmentControllerApi>(client));
            builders.Add(_services.AddHttpClient<IBounceControllerApi, BounceControllerApi>(client));
            builders.Add(_services.AddHttpClient<IBulkActionsControllerApi, BulkActionsControllerApi>(client));
            builders.Add(_services.AddHttpClient<ICommonActionsControllerApi, CommonActionsControllerApi>(client));
            builders.Add(_services.AddHttpClient<IConnectorControllerApi, ConnectorControllerApi>(client));
            builders.Add(_services.AddHttpClient<IConsentControllerApi, ConsentControllerApi>(client));
            builders.Add(_services.AddHttpClient<IContactControllerApi, ContactControllerApi>(client));
            builders.Add(_services.AddHttpClient<IDomainControllerApi, DomainControllerApi>(client));
            builders.Add(_services.AddHttpClient<IEmailControllerApi, EmailControllerApi>(client));
            builders.Add(_services.AddHttpClient<IEmailVerificationControllerApi, EmailVerificationControllerApi>(client));
            builders.Add(_services.AddHttpClient<IExpiredControllerApi, ExpiredControllerApi>(client));
            builders.Add(_services.AddHttpClient<IExportControllerApi, ExportControllerApi>(client));
            builders.Add(_services.AddHttpClient<IFormControllerApi, FormControllerApi>(client));
            builders.Add(_services.AddHttpClient<IGroupControllerApi, GroupControllerApi>(client));
            builders.Add(_services.AddHttpClient<IGuestPortalControllerApi, GuestPortalControllerApi>(client));
            builders.Add(_services.AddHttpClient<IImapControllerApi, ImapControllerApi>(client));
            builders.Add(_services.AddHttpClient<IInboxControllerApi, InboxControllerApi>(client));
            builders.Add(_services.AddHttpClient<IInboxForwarderControllerApi, InboxForwarderControllerApi>(client));
            builders.Add(_services.AddHttpClient<IInboxReplierControllerApi, InboxReplierControllerApi>(client));
            builders.Add(_services.AddHttpClient<IInboxRulesetControllerApi, InboxRulesetControllerApi>(client));
            builders.Add(_services.AddHttpClient<IMailServerControllerApi, MailServerControllerApi>(client));
            builders.Add(_services.AddHttpClient<IMissedEmailControllerApi, MissedEmailControllerApi>(client));
            builders.Add(_services.AddHttpClient<IOAuthConnectionApi, OAuthConnectionApi>(client));
            builders.Add(_services.AddHttpClient<IPhoneControllerApi, PhoneControllerApi>(client));
            builders.Add(_services.AddHttpClient<ISentEmailsControllerApi, SentEmailsControllerApi>(client));
            builders.Add(_services.AddHttpClient<ISmsControllerApi, SmsControllerApi>(client));
            builders.Add(_services.AddHttpClient<ITemplateControllerApi, TemplateControllerApi>(client));
            builders.Add(_services.AddHttpClient<IToolsControllerApi, ToolsControllerApi>(client));
            builders.Add(_services.AddHttpClient<ITrackingControllerApi, TrackingControllerApi>(client));
            builders.Add(_services.AddHttpClient<IUserControllerApi, UserControllerApi>(client));
            builders.Add(_services.AddHttpClient<IWaitForControllerApi, WaitForControllerApi>(client));
            builders.Add(_services.AddHttpClient<IWebhookControllerApi, WebhookControllerApi>(client));
            
            if (builder != null)
                foreach (IHttpClientBuilder instance in builders)
                    builder(instance);

            HttpClientsAdded = true;

            return this;
        }

        /// <summary>
        /// Configures the JsonSerializerSettings
        /// </summary>
        /// <param name="options"></param>
        /// <returns></returns>
        public HostConfiguration ConfigureJsonOptions(Action<JsonSerializerOptions> options)
        {
            options(_jsonOptions);

            return this;
        }

        /// <summary>
        /// Adds tokens to your IServiceCollection
        /// </summary>
        /// <typeparam name="TTokenBase"></typeparam>
        /// <param name="token"></param>
        /// <returns></returns>
        public HostConfiguration AddTokens<TTokenBase>(TTokenBase token) where TTokenBase : TokenBase
        {
            return AddTokens(new TTokenBase[]{ token });
        }

        /// <summary>
        /// Adds tokens to your IServiceCollection
        /// </summary>
        /// <typeparam name="TTokenBase"></typeparam>
        /// <param name="tokens"></param>
        /// <returns></returns>
        public HostConfiguration AddTokens<TTokenBase>(IEnumerable<TTokenBase> tokens) where TTokenBase : TokenBase
        {
            TokenContainer<TTokenBase> container = new TokenContainer<TTokenBase>(tokens);
            _services.AddSingleton(services => container);

            return this;
        }

        /// <summary>
        /// Adds a token provider to your IServiceCollection
        /// </summary>
        /// <typeparam name="TTokenProvider"></typeparam>
        /// <typeparam name="TTokenBase"></typeparam>
        /// <returns></returns>
        public HostConfiguration UseProvider<TTokenProvider, TTokenBase>() 
            where TTokenProvider : TokenProvider<TTokenBase>
            where TTokenBase : TokenBase
        {
            _services.AddSingleton<TTokenProvider>();
            _services.AddSingleton<TokenProvider<TTokenBase>>(services => services.GetRequiredService<TTokenProvider>());

            return this;
        }
    }
}
